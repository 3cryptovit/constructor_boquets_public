# Исправление отображения изображений в проекте Boquet React

## Суть проблемы

В проекте была обнаружена проблема с отображением изображений букетов в каталоге. 
Фронтенд-приложение не добавляло базовый URL API к пути изображения, из-за чего картинки, 
загруженные на сервер, не отображались корректно.

## Реализованное решение

### 1. Создана утилита форматирования URL изображений

В файле `frontend/src/utils/imageUrl.js` реализована функция `formatImageUrl`, которая:
- Добавляет базовый URL сервера к путям изображений, начинающимся с `/uploads/`
- Не изменяет URL-адреса, начинающиеся с `http` или `https`
- Оставляет без изменений локальные ресурсы, начинающиеся с `/assets/`
- Предоставляет запасной вариант изображения, если основной URL отсутствует

### 2. Настроены переменные окружения

В файле `.env` в директории frontend добавлены следующие переменные:

```
VITE_API_URL=http://localhost:5000
VITE_DEFAULT_TIMEOUT=10000
VITE_ENABLE_CACHE=true
```

Это позволяет легко изменить базовый URL сервера при необходимости.

### 3. Обновлены все компоненты

В следующих компонентах обновлена логика отображения изображений:
- `Catalog.jsx` - отображение букетов в каталоге
- `BouquetDetails.jsx` - страница подробной информации о букете
- `Cart.jsx` - отображение букетов в корзине
- `Favorites.jsx` - отображение избранных букетов
- `AdminBouquets.jsx` - отображение букетов в админ-панели
- `Constructor.jsx` - отображение цветов в конструкторе букетов

## Как использовать

Теперь изображения будут корректно отображаться, включая те, что загружаются через админ-панель. 
При необходимости изменить базовый URL API (например, при развертывании на другом сервере), 
достаточно изменить значение `VITE_API_URL` в файле `.env`.

## Преимущества решения

1. **Централизованное управление** - вся логика форматирования URL сосредоточена в одном месте
2. **Гибкость настройки** - легко изменить базовый URL через переменные окружения
3. **Защита от ошибок** - обработка разных форматов URL и наличие запасных вариантов
4. **Простота поддержки** - если потребуется изменить логику форматирования URL, достаточно изменить только один файл 